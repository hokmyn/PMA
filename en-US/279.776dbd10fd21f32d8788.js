"use strict";(self.webpackChunkapp_name=self.webpackChunkapp_name||[]).push([[279],{8279:($,d,s)=>{s.r(d),s.d(d,{MainListModule:()=>y});var r=s(8583),_=s(5378),f=s(6215),c=s(5257),t=s(7716),L=s(2872);let m=(()=>{class e{constructor(n){this.http=n,this.listBoard$=new f.X(null)}init(){this.getListItems().pipe((0,c.q)(1)).subscribe(n=>this.listBoard$.next(n))}getStateBoards(){return this.listBoard$.asObservable()}deleteBoard(n){this.http.delete(`boards/${n}`).pipe((0,c.q)(1)).subscribe(()=>this.init())}ngOnDestroy(){this.listBoard$.next(null),this.listBoard$.complete()}getListItems(){return this.http.get("boards")}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(L.O))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var h=s(2324),p=s(8002),S=s(2238),u=s(7746),g=s(4655),T=s(8120),M=s(1095),C=s(6627),v=s(1769);const I=function(){return["../","board"]},x=function(e){return{id:e}};function O(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-list-item"),t.TgZ(1,"a",3),t._uU(2),t.qZA(),t.TgZ(3,"button",4),t.NdJ("click",function(){const a=t.CHM(n).$implicit;return t.oxw().deleteBoard.emit(a)}),t.TgZ(4,"mat-icon"),t._uU(5,"delete_outline"),t.qZA(),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){const a=t.CHM(n).$implicit;return t.oxw().showInfo.emit(a.id)}),t.TgZ(7,"mat-icon"),t._uU(8,"info"),t.qZA(),t.qZA(),t._UZ(9,"mat-divider"),t.qZA()}if(2&e){const n=o.$implicit;t.xp6(1),t.Q6J("routerLink",t.DdM(3,I))("queryParams",t.VKq(4,x,n.id)),t.xp6(1),t.Oqu(n.title)}}let b=(()=>{class e{constructor(){this.deleteBoard=new t.vpe,this.showInfo=new t.vpe}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-table-list"]],inputs:{boards:"boards"},outputs:{deleteBoard:"deleteBoard",showInfo:"showInfo"},decls:4,vars:1,consts:function(){let o;return o="List boards:",[o,[1,"board-list"],[4,"ngFor","ngForOf"],["matLine","",3,"routerLink","queryParams"],["mat-icon-button","",3,"click"]]},template:function(n,i){1&n&&(t.TgZ(0,"h3"),t.SDv(1,0),t.qZA(),t.TgZ(2,"mat-nav-list",1),t.YNc(3,O,10,6,"mat-list-item",2),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngForOf",i.boards))},directives:[u.Hk,r.sg,u.Tg,g.yS,T.X2,M.lW,C.Hw,v.d],styles:["[_nghost-%COMP%]{margin:0 auto;width:400px;height:100%}.board-list[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{max-width:400px;margin:50px auto 0}.board-list[_ngcontent-%COMP%]{min-height:62%;padding-bottom:50px}button[_ngcontent-%COMP%]{margin-right:5px}"]}),e})();function A(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-table-list",2),t.NdJ("deleteBoard",function(l){return t.CHM(n),t.oxw().onDeleteBoard(l)})("showInfo",function(l){return t.CHM(n),t.oxw().onShowInfo(l)}),t.ALo(2,"async"),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("boards",t.lcZ(2,1,n.boards$))}}function E(e,o){1&e&&(t.TgZ(0,"p",3),t.SDv(1,4),t.qZA())}let N=(()=>{class e{constructor(n,i){this.mainService=n,this.dialog=i}ngOnInit(){this.mainService.init(),this.boards$=this.mainService.getStateBoards()}onDeleteBoard(n){this.dialog.open(h.a,{data:{nameItem:n.title}}).afterClosed().subscribe(l=>{l&&this.mainService.deleteBoard(n.id)})}onShowInfo(n){this.boards$.pipe((0,c.q)(1),(0,p.U)(i=>i.find(l=>l.id===n)),(0,p.U)(i=>i.description)).subscribe(i=>console.log(i))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m),t.Y36(S.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-lists-shell"]],features:[t._Bn([m])],decls:4,vars:4,consts:function(){let o;return o="File not found",[[4,"ngIf","ngIfElse"],["empty",""],[3,"boards","deleteBoard","showInfo"],[1,"empty"],o]},template:function(n,i){if(1&n&&(t.YNc(0,A,3,3,"ng-container",0),t.ALo(1,"async"),t.YNc(2,E,2,0,"ng-template",null,1,t.W1O)),2&n){const l=t.MAs(3);let a;t.Q6J("ngIf",null==(a=t.lcZ(1,2,i.boards$))?null:a.length)("ngIfElse",l)}},directives:[r.O5,b],pipes:[r.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100%}[_nghost-%COMP%]   mat-spinner[_ngcontent-%COMP%], [_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{margin:100px auto 0}"]}),e})();var B=s(4466);const P=[{path:"",component:N}];let y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.ez,_.q,g.Bz.forChild(P),B.m]]}),e})()}}]);